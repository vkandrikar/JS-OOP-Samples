<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>JavaScript Object Oriented Programming</title>
    </head>
    
    <body>
    	<span id="test1">Click Me</span>
    </body>
    
    <script>
		'use strict';
		/*
			we have first checked whether MYAPP is already defined in same file or in another file If
			yes then use existing MYAPP global object otherwise create empty object called MYAPP which
			will encapsulate method, functions, variable and object.
		*/
				
		/*function doSomething() {
			console.log("*** doSomething ***");
		};		
		
		// global namespace
		var MYAPP = MYAPP || {};
		
		// sub namespace
		MYAPP.commonMethod = {
			validateName: function (name) {
				var nameReg = /^[A-Za-z0-9 ]{3,20}$/;
				
				if (nameReg.test(name))
					return true;
				else 
					return false;
			},
			
			validateEmail: function (email) {
				var emailReg =/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,3}(?:\.[a-z]{2})?)$/i;
				
				if (emailReg.test(email))
					return true;
				else 
					return false;
			}
		};		
		
		//Syntax for Using addListner method:
		console.log(MYAPP.commonMethod.validateName("vijay"));
		console.log(MYAPP.commonMethod.validateEmail("dasd@dsd.com"));*/
		
		/*
			***************************************
		*/
		
		// Define the Person constructor
		/**/function Person(firstName) {
		  this.firstName = firstName;

		  this.talk = function () {
		  	console.log(this);
		  	console.log('Hi this is Person talk');
		  }
		}
		
		// Add a couple of methods to Person.prototype
		Person.prototype.walk = function(){
		  console.log("I am walking!");
		};
		Person.prototype.sayHello = function(){
		  console.log("Hello, I'm " + this.firstName);
		};
		
		// Define the Student constructor
		function Student(firstName, subject) {
		  // Call the parent constructor, making sure (using Function#call) that "this" is
		  // set correctly during the call
		  Person.call(this, firstName);
		
		  // Initialize our Student-specific properties
		  this.subject = subject;
		};
		
		// Create a Student.prototype object that inherits from Person.prototype.
		// Note: A common error here is to use "new Person()" to create the Student.prototype.
		// That's incorrect for several reasons, not least that we don't have anything to
		// give Person for the "firstName" argument. The correct place to call Person is
		// above, where we call it from Student.
		Student.prototype = Object.create(Person.prototype); // See note below
		
		// Set the "constructor" property to refer to Student
		Student.prototype.constructor = Student;
		
		// Replace the "sayHello" method
		Student.prototype.sayHello = function(){
		  console.log("Hello, I'm " + this.firstName + ". I'm studying " + this.subject + ".");
		};
		
		// Add a "sayGoodBye" method
		Student.prototype.sayGoodBye = function(){
		  console.log("Goodbye!");
		};
		
		// Example usage:
		var student1 = new Student("Janet", "Applied Physics");
		console.log(student1);

		student1.sayHello();   // "Hello, I'm Janet. I'm studying Applied Physics."
		student1.walk();       // "I am walking!"
		student1.sayGoodBye(); // "Goodbye!"

		student1.talk();

		console.log(student1.firstName);  // 		
		console.log(student1.subject);  // 
		
		// Check that instanceof works correctly
		console.log(student1 instanceof Person);  // true 
		console.log(student1 instanceof Student); // true
		
		console.log(student1.constructor); // 
				
		
		/*
			*****************************
		
		
		function create(parent) {
			var F = function() {};
			F.prototype = parent;
			return new F();
		}
		
		function myObject () {			
		}
		
		var masterObject = {a: "masterObject value"};
		
		myObject.prototype = masterObject;		
		
		var object1 = new myObject();//create(masterObject);
		var object2 = new myObject();//create(masterObject);
		var object3 = new myObject();//create(masterObject);
		
		object3.a = "overridden value";
		
		console.log("*** when override object3.a ***");
		console.log("object1.a: " + object1.a); // "masterObject value"
		console.log("object2.a: " + object2.a); // "masterObject value"
		console.log("object3.a: " + object3.a); // "overridden value"
		
		//masterObject.a = "new masterObject value"
		myObject.prototype.a = "new masterObject value";
		
		console.log("\n*** when override masterObject.a ***");
		console.log("object1.a: " + object1.a); // "new masterObject value"
		console.log("object2.a: " + object2.a); // "new masterObject value"
		console.log("object3.a: " + object3.a); // "overridden value"*/
	</script>
</html>
